## Draft

## Encrypted Messages in Bulletin Board
Advances in privacy and scaling solutions makes wider adoption of blockchain technology much more realizable. With strong security guarantees backed by well founded mathematics, you will be able to exchange secure messages through blockchain. You will, as always, have to be careful with handling private keys, much like you have been with passwords; there will also be better solutions to make key-management easier and more fool-proof. 

Yet this promise of being able to make secure message is not always convenient to accept when you consider the following.
1. The message exchanged could be deeply personal or of high importance
2. Once you've written it in blockchain, it can not be reverted back
3. Now this message is publicly vieweable. Despite being in obfuscated (encrypted) form, a bad actor can try as much as he wants to break the encryption. It can even be the case that the secret has already been found out and the bad actor is passively collecting information -- no way to know.
4. Codes have bugs and vulnerabilities. Incentive to not share the knowledge of vulnerabilities could outweigh the incentive to share. 
5. Advances in cryptography and computational efficiency (e.g. quantum computing) could catchup in future. What you share now will be collected, stored and has the potential to be replayed and misused in future.
6. Your encryption keys are a single point of failure if all your messages are encrypted with it. Being able to extract the key for a single message will make it possible to decrypt every other messages -- including those shared up until that point and those to be shared in future. 
Assumption made about the adversary are fairly practical i.e. he has access to computational resource and public content like encrypted messages, open source code and knowledge of vulnerabilities and technologies.

Comparatively the end-to-end encrypted messaging applications we have been using sound much more reliable. Some might even be okay with non e2e messaging compared to the points above; at least our messages are not exposed for the whole world to see plus the ones who handle them have the incentive to keep them as secure as possible. So what can we learn from e2e messaging applications so that exchanging messages through blockchain is secure and reliable ?

## Why even try ?
Before we answer what we can learn from e2e messaging apps, lets answer why even try to do it through blockchain. First the term "message" is a general term for a piece of information shared between parties. It could be signals generated by an on-chain game about players' secret moves, it could be textual messages, maybe ~~nuclear codes~~ anonymous votes  -- anything that involves exchange of information. The problem is generic enough that not considering it would toss a lot of valuable usecases out the window.

## How Signal does it
Signal's messaging protocol requires clients to use different keys to encrypt each successive message. This way even if some key gets known and the corresponding message gets decrypted, the rest of the messages sent so far and to be sent in future will still be obscure. These features are called Forward Secrecy and Post Compromise Security, and is made possible through Double Ratchet algorithm. The algorithm has been battle tested with more than a decade of use and other e2e messaging apps also make use of it because of its reliability. It's modular enough to make upgrades to the cryptographic primitives it uses without breaking the protocol. Because of this flexibility, there have been studies to make the algorithm post quantum secure.
However, Signal Protocol also has some downsides. They are ......


 Under the same assumptions as above and with this algorithm, many of the problems listed are alleviated in the following ways.
1. --
2. --
3. Knowledge of encryption key that a passive observer has will not be useful for other messages.
4. Modular and post quantum secure approaches are available.
5. Point of failure is now distributed among multiple keys.


## Additional Usecase
The key refreshing mechanism is also helpful when the implementation itself requires it. For example, group communications are based on establishing a shared secret key and using that key to encrypt and decrypt group messages. When there is a change in group member, the shared secret has to be refreshed to ensure that the message exchanged is now visible to exactly the current members of the group.